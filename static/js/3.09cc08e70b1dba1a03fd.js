webpackJsonp([3],{"1ysi":function(t,e){},"2+uu":function(t,e){},"5Pdy":function(t,e,i){"use strict";var s=i("Dd8w"),a=i.n(s),n=i("innl"),r=i("r4eW"),c={data:function(){return{currentValue:this.rating}},components:{Icon:n.a},props:{max:{type:Number,required:!0},rating:{type:Number,default:0}},methods:{setValue:function(t){this.currentValue=t},getIconStyle:function(t){return t<=this.currentValue?{fill:"#FAEF3A"}:{fill:"#AAAAAA"}},getCurValue:function(){return this.currentValue}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rate"},t._l(t.max,function(e){return i("Icon",{key:e,style:t.getIconStyle(e),attrs:{name:"rate-star"},nativeOn:{click:function(i){t.setValue(e)}}})}))},staticRenderFns:[]};var l=i("VU/8")(c,o,!1,function(t){i("PP+S")},"data-v-7d31eada",null).exports,u=i("NYxO"),d=i("Zqu6"),v=i("T2Di"),f={data:function(){return{clickedElm:"",showMsg:!1,msgTitle:"",favorIconStyle:{},favorCircleStyle:{},wlistIconStyle:{},wlistCircleStyle:{},rateCircleStyle:{},rateIconStyle:{},rating:0}},components:{Icon:n.a,MessageBox:r.a,Rate:l},computed:a()({},Object(u.d)({accessToken:function(t){return t.account.accesstoken},sessionId:function(t){return t.account.sessionid},favorMovieIds:function(t){return t.account.favorites.map(function(t){return t.id})},watchlistIds:function(t){return t.account.watchlist.map(function(t){return t.id})},ratedMovie:function(t){return t.account.rated},lists:function(t){return t.account.lists.map(function(t){return{id:t.id,name:t.name,count:t.itemcount}})}}),{briefMovieDetail:function(){var t=this.movieDetail;return{id:t.id,path:t.poster,title:t.title,release_date:t.release_date,vote_average:t.vote_average,vote_count:t.vote_count}},activeStyle:function(){return{fill:this.dominantColor,width:"0.4615rem",height:"0.4615rem"}},activeList:function(){return"list"===this.clickedElm&&this.accessToken.length>0},activeRate:function(){return"rate"===this.clickedElm&&this.accessToken.length>0}}),props:{dominantColor:{type:String,default:"#ff8800"},movieDetail:{type:Object,required:!0,validator:function(t){return t.id&&t.poster&&t.title&&t.release_date&&t.vote_average&&void 0!==t.vote_count}}},methods:a()({},Object(u.c)({addFavoriteMovie:v.a,removeFavoriteMovie:v.p,addWatchlistMovie:v.d,removeWatchlistMovie:v.r,addRatedMovie:v.c,deleteRatedMovie:v.j}),Object(u.b)(["addMovieToList"]),{getCircleStyle:function(t){return this.clickedElm===t?{fill:"#fff"}:{fill:"none"}},getIconStyle:function(t){return this.clickedElm===t?this.activeStyle:{fill:"#fff",width:"0.6154rem",height:"0.6154rem"}},activeMark:function(t){var e=this;if(this.clickedElm=t,this.accessToken)switch(t){case"list":this.showMsg=!0,this.msgTitle="Add to List";break;case"rate":this.showMsg=!0,this.msgTitle="Rate it!";break;case"favorite":this.favorMovieIds.includes(this.movieDetail.id)?Object(d.p)(this.sessionId,"movie",this.movieDetail.id).then(function(){e.removeFavoriteMovie(e.briefMovieDetail),e.favorIconStyle={fill:"#fff",width:"0.6154rem",height:"0.6154rem"},e.favorCircleStyle={fill:"none"}}):Object(d.b)(this.sessionId,"movie",this.movieDetail.id).then(function(){e.addFavoriteMovie(e.briefMovieDetail),e.favorIconStyle={fill:"#FA3AD8",width:"0.4615rem",height:"0.4615rem"},e.favorCircleStyle={fill:"#fff"}});break;case"watchlist":this.watchlistIds.includes(this.movieDetail.id)?Object(d.q)(this.sessionId,"movie",this.movieDetail.id).then(function(){e.removeWatchlistMovie(e.briefMovieDetail),e.wlistIconStyle={fill:"#fff",width:"0.6154rem",height:"0.6154rem"},e.wlistCircleStyle={fill:"none"}}):Object(d.c)(this.sessionId,"movie",this.movieDetail.id).then(function(){e.addWatchlistMovie(e.briefMovieDetail),e.wlistIconStyle={fill:"#FA3A3A",width:"0.4615rem",height:"0.4615rem"},e.wlistCircleStyle={fill:"#fff"}});break;default:this.showMsg=!1,this.msgTitle=""}else this.showMsg=!0,this.msgTitle=""},addToList:function(t){this.addMovieToList({listId:t,accessToken:this.accessToken,movieId:this.movieDetail.id})},doClose:function(){this.showMsg=!1},quit:function(){this.showMsg=!1,this.activeRate&&(this.$refs.rateStar.getCurValue()>0&&!this.ratedMovie.map(function(t){return t.id}).includes(this.movieDetail.id)&&(this.rating=0),this.clickedElm="")},removeRating:function(){var t=this;this.showMsg=!1,this.ratedMovie.map(function(t){return t.id}).includes(this.movieDetail.id)&&Object(d.h)(this.sessionId,this.movieDetail.id).then(function(){t.rating=0,t.rateIconStyle={fill:"#fff",width:"0.6154rem",height:"0.6154rem"},t.rateCircleStyle={fill:"none"},t.deleteRatedMovie({id:t.briefMovieDetail.id})})},submit:function(){var t=this;this.showMsg=!1;var e=2*this.$refs.rateStar.getCurValue();Object(d.o)(this.sessionId,this.movieDetail.id,e).then(function(){t.rating=e/2,t.rateIconStyle={fill:"#FAEF3A",width:"0.4615rem",height:"0.4615rem"},t.rateCircleStyle={fill:"#fff"};var i=t.briefMovieDetail,s=i.id,a=i.path,n=i.title,r=i.release_date;t.addRatedMovie({id:s,path:a,title:n,release_date:r,rating:e})})},initialStyle:function(){var t=this;this.favorMovieIds.includes(this.movieDetail.id)?(this.favorIconStyle={fill:"#FA3AD8",width:"0.4615rem",height:"0.4615rem"},this.favorCircleStyle={fill:"#fff"}):(this.favorIconStyle={fill:"#fff",width:"0.6154rem",height:"0.6154rem"},this.favorCircleStyle={fill:"none"}),this.watchlistIds.includes(this.movieDetail.id)?(this.wlistIconStyle={fill:"#FA3A3A",width:"0.4615rem",height:"0.4615rem"},this.wlistCircleStyle={fill:"#fff"}):(this.wlistIconStyle={fill:"#fff",width:"0.6154rem",height:"0.6154rem"},this.wlistCircleStyle={fill:"none"}),this.ratedMovie.map(function(t){return t.id}).includes(this.movieDetail.id)?(this.rating=this.ratedMovie.filter(function(e){return e.id===t.movieDetail.id})[0].rating/2,this.rateIconStyle={fill:"#FAEF3A",width:"0.4615rem",height:"0.4615rem"},this.rateCircleStyle={fill:"#fff"}):(this.rating=0,this.rateIconStyle={fill:"#fff",width:"0.6154rem",height:"0.6154rem"},this.rateCircleStyle={fill:"none"})}}),mounted:function(){this.initialStyle()}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mark"},[i("div",{staticClass:"MarkBundle"},[i("div",{staticClass:"list container",on:{click:function(e){t.activeMark("list")}}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("circle",{staticClass:"circle",style:t.getCircleStyle("list"),attrs:{cx:"50",cy:"50",r:"45",stroke:"#fff","stroke-width":"10"}})]),t._v(" "),i("Icon",{style:t.getIconStyle("list"),attrs:{name:"list"}})],1),t._v(" "),i("div",{staticClass:"favorite container",on:{click:function(e){t.activeMark("favorite")}}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("circle",{staticClass:"circle",style:t.favorCircleStyle,attrs:{cx:"50",cy:"50",r:"45",stroke:"#fff","stroke-width":"10"}})]),t._v(" "),i("Icon",{style:t.favorIconStyle,attrs:{name:"favorite"}})],1),t._v(" "),i("div",{staticClass:"watchlist container",on:{click:function(e){t.activeMark("watchlist")}}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("circle",{style:t.wlistCircleStyle,attrs:{cx:"50",cy:"50",r:"45",stroke:"#fff","stroke-width":"10"}})]),t._v(" "),i("Icon",{style:t.wlistIconStyle,attrs:{name:"tag"}})],1),t._v(" "),i("div",{staticClass:"rate container",on:{click:function(e){t.activeMark("rate")}}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("circle",{staticClass:"circle",style:t.rateCircleStyle,attrs:{cx:"50",cy:"50",r:"45",stroke:"#fff","stroke-width":"10"}})]),t._v(" "),i("Icon",{style:t.rateIconStyle,attrs:{name:"star"}})],1)]),t._v(" "),t.showMsg?i("MessageBox",{staticClass:"msgbox",on:{closeMsg:t.doClose}},[t.msgTitle?i("span",{staticClass:"msg_title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.msgTitle))]):t._e(),t._v(" "),t.activeList?i("div",{staticClass:"msg_content",attrs:{slot:"content"},slot:"content"},[i("p",[t._v("Add The Commuter to one of your lists...")]),t._v(" "),t.lists.length?i("ul",t._l(t.lists,function(e){return i("li",{key:e.id,on:{click:function(i){t.addToList(e.id)}}},[i("span",{staticClass:"list_name"},[t._v(t._s(e.name))]),t._v(" ("+t._s(e.count)+" items)\n      ")])})):t._e()]):t._e(),t._v(" "),t.activeRate?i("div",{staticClass:"msg_rate",attrs:{slot:"content"},slot:"content"},[i("Rate",{ref:"rateStar",attrs:{max:5,rating:t.rating}})],1):t._e(),t._v(" "),t.accessToken?i("div",{staticClass:"btn_container",attrs:{slot:"customBtn"},slot:"customBtn"},[i("div",{staticClass:"btn_quit button",on:{click:t.quit}},[t._v("Quit")]),t._v(" "),t.activeRate?i("div",{staticClass:"btn_submit button",on:{click:t.submit}},[t._v("Submit")]):t._e(),t._v(" "),t.activeRate?i("div",{staticClass:"btn_remove button",on:{click:t.removeRating}},[t._v("Delete")]):t._e()]):t._e()]):t._e()],1)},staticRenderFns:[]};var m=i("VU/8")(f,h,!1,function(t){i("2+uu")},"data-v-591d5142",null);e.a=m.exports},Gd3V:function(t,e){},HhZ7:function(t,e){},"PP+S":function(t,e){},guk6:function(t,e){},mJar:function(t,e){},nhSJ:function(t,e){},u3zK:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),n=i("8KvB"),r=i("ZzJJ"),c=i("innl"),o=i("395c"),l=i("5Pdy"),u=i("NYxO"),d={computed:a()({},Object(u.d)({recommendations:function(t){return t.account.recommendations}})),components:{Icon:c.a,Progress:o.a,MarkBundle:l.a},methods:{normalize:function(t){return{id:t.id,poster:t.path,title:t.title,release_date:t.release_date,vote_average:t.vote_average,vote_count:t.vote_count}}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend"},[i("ul",{staticClass:"recommend_list"},t._l(t.recommendations,function(e){return i("li",{key:e.id,staticClass:"recommend_item"},[e.path?i("img",{staticClass:"item_pic",attrs:{src:e.path},on:{click:function(i){t.$router.push("/movie/"+e.id)}}}):i("div",{staticClass:"default_pic_container"},[i("Icon",{staticClass:"default_pic",attrs:{name:"picture"}})],1),t._v(" "),i("div",{staticClass:"info_container"},[i("span",[t._v(t._s(e.title))]),t._v(" "),i("span",[t._v(t._s(e.release_date))]),t._v(" "),i("Progress",{attrs:{percentage:10*e.vote_average,width:40,strokeWidth:4}}),t._v(" "),i("MarkBundle",{attrs:{movieDetail:t.normalize(e)}})],1)])}))])},staticRenderFns:[]};var f=i("VU/8")(d,v,!1,function(t){i("guk6")},"data-v-df94d8a8",null).exports,h={render:function(){var t=this.$createElement;return(this._self._c||t)("span",[this._v("Coming soon...")])},staticRenderFns:[]},m=i("VU/8")({},h,!1,null,null,null).exports,_={computed:a()({},Object(u.d)({watchlist:function(t){return t.account.watchlist}})),components:{Icon:c.a,Progress:o.a,MarkBundle:l.a},methods:{normalize:function(t){return{id:t.id,poster:t.path,title:t.title,release_date:t.release_date,vote_average:t.vote_average,vote_count:t.vote_count}}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"watchlist"},[i("ul",{staticClass:"watchlist_list"},t._l(t.watchlist,function(e){return i("li",{key:e.id,staticClass:"watchlist_item"},[e.path?i("img",{staticClass:"item_pic",attrs:{src:e.path},on:{click:function(i){t.$router.push("/movie/"+e.id)}}}):i("div",{staticClass:"default_pic_container"},[i("Icon",{staticClass:"default_pic",attrs:{name:"picture"}})],1),t._v(" "),i("div",{staticClass:"info_container"},[i("span",[t._v(t._s(e.title))]),t._v(" "),i("span",[t._v(t._s(e.release_date))]),t._v(" "),i("Progress",{attrs:{percentage:10*e.vote_average,width:40,strokeWidth:4}}),t._v(" "),i("MarkBundle",{attrs:{movieDetail:t.normalize(e)}})],1)])}))])},staticRenderFns:[]};var g=i("VU/8")(_,p,!1,function(t){i("nhSJ")},"data-v-4f81280e",null).exports,k=i("Xxa5"),C=i.n(k),w=i("//Fk"),y=i.n(w),b=i("exGp"),S=i.n(b),I=i("Zqu6"),M=i("5Rlp"),T={data:function(){return{listDetail:[]}},computed:a()({},Object(u.d)({lists:function(t){return t.account.lists},accessToken:function(t){return t.account.accesstoken}})),methods:{getlistDetail:function(){var t=this;return S()(C.a.mark(function e(){var i;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lists.map(function(e){return Object(I.i)(e.id,t.accessToken)}),e.next=3,y.a.all(i);case 3:t.listDetail=e.sent,console.log(t.listDetail);case 5:case"end":return e.stop()}},e,t)}))()},posterPath:function(t){return Object(M.a)("w300",t)}},created:function(){this.getlistDetail()}},D={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"list"},t._l(t.listDetail,function(e){return i("li",{key:e.id,staticClass:"list_item"},[i("img",{staticClass:"list_img",attrs:{src:t.posterPath(e.backdrop_path)}}),t._v(" "),i("span",{staticClass:"list_name"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"list_count"},[t._v(t._s(e.results.length)+" items")])])}))},staticRenderFns:[]};var O=i("VU/8")(T,D,!1,function(t){i("HhZ7")},"data-v-3afb2042",null).exports,R={computed:a()({},Object(u.d)({favorites:function(t){return t.account.favorites}})),components:{Icon:c.a,Progress:o.a,MarkBundle:l.a},methods:{normalize:function(t){return{id:t.id,poster:t.path,title:t.title,release_date:t.release_date,vote_average:t.vote_average,vote_count:t.vote_count}}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"favorites"},[i("ul",{staticClass:"favorites_list"},t._l(t.favorites,function(e){return i("li",{key:e.id,staticClass:"favorites_item"},[e.path?i("img",{staticClass:"item_pic",attrs:{src:e.path},on:{click:function(i){t.$router.push("/movie/"+e.id)}}}):i("div",{staticClass:"default_pic_container"},[i("Icon",{staticClass:"default_pic",attrs:{name:"picture"}})],1),t._v(" "),i("div",{staticClass:"info_container"},[i("span",[t._v(t._s(e.title))]),t._v(" "),i("span",[t._v(t._s(e.release_date))]),t._v(" "),i("Progress",{attrs:{percentage:10*e.vote_average,width:40,strokeWidth:4}}),t._v(" "),i("MarkBundle",{attrs:{movieDetail:t.normalize(e)}})],1)])}))])},staticRenderFns:[]};var A=i("VU/8")(R,x,!1,function(t){i("1ysi")},"data-v-2048ce38",null).exports,F={computed:a()({},Object(u.d)({rated:function(t){return t.account.rated}})),components:{Icon:c.a,MarkBundle:l.a},methods:{normalize:function(t){return{id:t.id,poster:t.path,title:t.title,release_date:t.release_date,vote_average:t.vote_average,vote_count:t.vote_count}}}},V={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rated"},[i("ul",{staticClass:"rated_list"},t._l(t.rated,function(e){return i("li",{key:e.id,staticClass:"rated_item"},[e.path?i("img",{staticClass:"item_pic",attrs:{src:e.path},on:{click:function(i){t.$router.push("/movie/"+e.id)}}}):i("div",{staticClass:"default_pic_container"},[i("Icon",{staticClass:"default_pic",attrs:{name:"picture"}})],1),t._v(" "),i("div",{staticClass:"info_container"},[i("span",[t._v(t._s(e.title))]),t._v(" "),i("span",[t._v(t._s(e.release_date))]),t._v(" "),i("p",[t._v("Your Rating: "+t._s(e.rating))]),t._v(" "),i("MarkBundle",{attrs:{movieDetail:t.normalize(e)}})],1)])}))])},staticRenderFns:[]};var j=i("VU/8")(F,V,!1,function(t){i("Gd3V")},"data-v-441639f8",null).exports,q=i("7QTg"),E=i("T2Di"),B=i("VKKs"),P={data:function(){var t=this;return{currentSlide:0,swiperOption:{slidesPerView:3,loop:!0,effect:"coverflow",on:{slideChangeTransitionEnd:function(){t.currentSlide=this.realIndex}}}}},components:{Head:n.a,Foot:r.a,swiper:q.swiper,swiperSlide:q.swiperSlide,Recommend:f,Overview:m,Watchlist:g,Lists:O,Favorites:A,Ratings:j},computed:a()({},Object(u.d)({requestToken:function(t){return t.account.requesttoken},requestTokenV3:function(t){return t.account.requesttokenv3},accessToken:function(t){return t.account.accesstoken},accountId:function(t){return t.account.accountid}}),{currentView:function(){switch(this.currentSlide){case 0:return"Overview";case 1:return"Watchlist";case 2:return"Lists";case 3:return"Favorites";case 4:return"Ratings";case 5:return"Recommend"}}}),methods:a()({},Object(u.c)({modifyRequestToken:E.m,modifyRequestTokenV3:E.n,changeStartPath:E.i}),Object(u.b)(["changeAccessToken","changeAccountInfo"])),created:function(){var t=this;if(""===this.requestToken){var e=Object(B.a)("requesttoken"),i=Object(B.a)("requesttokenv3"),s=Object(B.a)("startpath");this.modifyRequestToken({requesttoken:e}),this.modifyRequestTokenV3({requesttokenv3:i}),this.changeStartPath({startpath:s}),Object(B.b)("requesttoken"),Object(B.b)("requesttokenv3"),Object(B.b)("startpath")}this.accessToken||""===this.requestToken||this.changeAccessToken({requestToken:this.requestToken,requestTokenV3:this.requestTokenV3}).then(function(){t.changeAccountInfo({accountId:t.accountId,accessToken:t.accessToken})})}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"account"},[i("Head",{attrs:{headback:!0}},[i("span",{staticClass:"account_title",attrs:{slot:"title"},slot:"title"},[t._v("My Account")])]),t._v(" "),i("swiper",{staticClass:"account_swiper",attrs:{options:t.swiperOption}},[i("swiper-slide",{staticClass:"account_item"},[t._v("Recommend")]),t._v(" "),i("swiper-slide",{staticClass:"account_item"},[t._v("Overview")]),t._v(" "),i("swiper-slide",{staticClass:"account_item"},[t._v("Watchlist")]),t._v(" "),i("swiper-slide",{staticClass:"account_item"},[t._v("Lists")]),t._v(" "),i("swiper-slide",{staticClass:"account_item"},[t._v("Favorites")]),t._v(" "),i("swiper-slide",{staticClass:"account_item"},[t._v("Ratings")])],1),t._v(" "),i("keep-alive",[i(t.currentView,{tag:"component"})],1),t._v(" "),t.accessToken?i("div",{staticClass:"account_logout"},[t._v("Logout")]):t._e(),t._v(" "),i("Foot")],1)},staticRenderFns:[]};var L=i("VU/8")(P,$,!1,function(t){i("mJar")},"data-v-5f1680e9",null);e.default=L.exports}});
//# sourceMappingURL=3.09cc08e70b1dba1a03fd.js.map